From 304b1b075bfd985f09d9789d3569a84b0cb68230 Mon Sep 17 00:00:00 2001
From: Marc-Andre Lureau (elmarco) <marcandre.lureau@gmail.com>
Date: Sun, 20 Jan 2008 17:10:55 +0200
Subject: [PATCH] fix unicode module loading on gutsy

---
 Makefile.pre.in    |    8 ++++----
 Modules/Setup.dist |   16 ++++++++--------
 2 files changed, 12 insertions(+), 12 deletions(-)

diff --git a/Makefile.pre.in b/Makefile.pre.in
index d125bf6..a7bcb1d 100644
--- a/Makefile.pre.in
+++ b/Makefile.pre.in
@@ -595,8 +595,8 @@ memtest:	all platform
 install:	@FRAMEWORKINSTALLFIRST@ altinstall bininstall maninstall @FRAMEWORKINSTALLLAST@
 
 # Install almost everything without disturbing previous versions
-altinstall:	 @FRAMEWORKALTINSTALLFIRST@ altbininstall libinstall inclinstall libainstall \
-                sharedinstall oldsharedinstall  @FRAMEWORKALTINSTALLLAST@
+altinstall:	 @FRAMEWORKALTINSTALLFIRST@ altbininstall sharedinstall libinstall inclinstall libainstall \
+                oldsharedinstall  @FRAMEWORKALTINSTALLLAST@
 
 # Install shared libraries enabled by Setup
 DESTDIRS=	$(exec_prefix) $(LIBDIR) $(BINLIBDEST) $(DESTSHARED)
@@ -914,10 +914,10 @@ frameworkinstallapps:
 
 # This install the unix python and pythonw tools in /usr/local/bin
 frameworkinstallunixtools:
-	cd Mac/OSX && $(MAKE) installunixtools DESTDIR=$(DESTDIR) 
+	cd Mac/OSX && $(MAKE) installunixtools DESTDIR=$(DESTDIR)
 
 frameworkaltinstallunixtools:
-	cd Mac/OSX && $(MAKE) altinstallunixtools DESTDIR=$(DESTDIR) 
+	cd Mac/OSX && $(MAKE) altinstallunixtools DESTDIR=$(DESTDIR)
 
 # This installs the Demos and Tools into the applications directory.
 # It is not part of a normal frameworkinstall
diff --git a/Modules/Setup.dist b/Modules/Setup.dist
index dcda584..230a99b 100644
--- a/Modules/Setup.dist
+++ b/Modules/Setup.dist
@@ -106,7 +106,7 @@ PYTHONPATH=$(COREPYTHONPATH)
 # various reasons; therefore they are listed here instead of in the
 # normal order.
 
-# This only contains the minimal set of modules required to run the 
+# This only contains the minimal set of modules required to run the
 # setup.py script in the root of the Python source tree.
 
 posix posixmodule.c		# posix (UNIX) system calls
@@ -123,9 +123,9 @@ zipimport zipimport.c
 # The rest of the modules listed in this file are all commented out by
 # default.  Usually they can be detected and built as dynamically
 # loaded modules by the new setup.py script added in Python 2.1.  If
-# you're on a platform that doesn't support dynamic loading, want to 
-# compile modules statically into the Python binary, or need to 
-# specify some odd set of compiler switches, you can uncomment the 
+# you're on a platform that doesn't support dynamic loading, want to
+# compile modules statically into the Python binary, or need to
+# specify some odd set of compiler switches, you can uncomment the
 # appropriate lines below.
 
 # ======================================================================
@@ -174,7 +174,7 @@ GLHACK=-Dclear=__GLclear
 #_testcapi _testcapimodule.c    # Python C API test module
 #_random _randommodule.c	# Random number generator
 #collections collectionsmodule.c # Container types
-#itertools itertoolsmodule.c	# Functions creating iterators for efficient looping 
+#itertools itertoolsmodule.c	# Functions creating iterators for efficient looping
 #strop stropmodule.c		# String manipulations
 
 #unicodedata unicodedata.c    # static Unicode character database
@@ -286,7 +286,7 @@ GLHACK=-Dclear=__GLclear
 #sunaudiodev sunaudiodev.c
 
 
-# A Linux specific module -- off by default; this may also work on 
+# A Linux specific module -- off by default; this may also work on
 # some *BSDs.
 
 #linuxaudiodev linuxaudiodev.c
@@ -352,7 +352,7 @@ GLHACK=-Dclear=__GLclear
 
 #_curses _cursesmodule.c -lcurses -ltermcap
 # Wrapper for the panel library that's part of ncurses and SYSV curses.
-#_curses_panel _curses_panel.c -lpanel -lncurses 
+#_curses_panel _curses_panel.c -lpanel -lncurses
 
 
 # Generic (SunOS / SVR4) dynamic loading module.
@@ -447,7 +447,7 @@ GLHACK=-Dclear=__GLclear
 # Andrew Kuchling's zlib module.
 # This require zlib 1.1.3 (or later).
 # See http://www.gzip.org/zlib/
-#zlib zlibmodule.c -I$(prefix)/include -L$(exec_prefix)/lib -lz
+zlib zlibmodule.c -I$(prefix)/include -L$(exec_prefix)/lib -lz
 
 # Interface to the Expat XML parser
 #
-- 
1.5.4.rc2.84.gf85fd

